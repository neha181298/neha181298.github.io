<!doctype HTML>
<html>
	<head>
		<meta name="apple-mobile-web-app-capable" content="yes">
		<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
		<script src="https://raw.githack.com/jeromeetienne/AR.js/2.0.5/aframe/build/aframe-ar.js"></script>
		<script>

	  		AFRAME.registerComponent('video1', {
			 init: function () {
    		this.toggle = false;
    		document.querySelector("#video1").pause(); //reference to the video
  			},
  			tick:function(){  
   			if(document.querySelector("a-marker").object3D.visible == true){
     		if(!this.toggle){
       		this.toggle = true;
       		document.querySelector("#video1").play();
     		}
   			}else{
     		this.toggle = false;
     		document.querySelector("#video1").pause();
   			}
  }
			});
			
		</script>
	</head>
	<body style='margin : 0px; overflow: scroll;'>
	  <a-scene embedded arjs='patternRatio: 0.69; debugUIEnabled: false;'>
			<a-assets>
				<video id="video1" autoplay loop="true" src="/assets/video1.mp4"></video>
			</a-assets>
			<a-marker type='pattern' url='/pattern-happy.patt' emitevents='true' cursor='rayOrigin: mouse'>

				<!-- Left Column -->

				<a-plane color="black" rotation="-90 0 0" position="-2.7 -0.2 -3.8" width="2" height="0.5" material="transparent: true; opacity: 0.90"></a-plane>

				 <a-video video1 src="#video1" width="16" height="9" position="-2.7 -0.2 -3.8"></a-video>

  				<!-- Defining the URL inline. Not recommended but more comfortable for web developers. -->
			</a-marker>
	    	<a-entity camera></entity>
	  	</a-scene>
	</body>
	<script>
	
	</script>
</html>